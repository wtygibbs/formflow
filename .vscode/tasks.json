{
  "version": "2.0.0",
  "tasks": [
    // ==================== COMPOSITE TASKS ====================
    {
      "label": "üöÄ Run Full Stack",
      "dependsOn": ["Run Backend", "Run Frontend"],
      "problemMatcher": [],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      }
    },
    {
      "label": "üèóÔ∏è Build All",
      "dependsOn": ["Build Backend", "Build Frontend"],
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "üì¶ Restore All",
      "dependsOn": ["Restore Backend", "Install Frontend Dependencies"],
      "problemMatcher": []
    },

    // ==================== BACKEND TASKS ====================
    {
      "label": "Run Backend",
      "type": "shell",
      "command": "dotnet",
      "args": ["run", "--project", "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj"],
      "problemMatcher": "$msCompile",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "backend"
      },
      "icon": {
        "id": "server-process",
        "color": "terminal.ansiBlue"
      }
    },
    {
      "label": "Build Backend",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "build",
        "${workspaceFolder}/backend/AcordParser.sln",
        "/property:GenerateFullPaths=true",
        "/consoleloggerparameters:NoSummary"
      ],
      "problemMatcher": "$msCompile",
      "group": "build",
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      },
      "icon": {
        "id": "tools",
        "color": "terminal.ansiBlue"
      }
    },
    {
      "label": "Restore Backend",
      "type": "shell",
      "command": "dotnet",
      "args": ["restore", "${workspaceFolder}/backend/AcordParser.sln"],
      "problemMatcher": "$msCompile",
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      },
      "icon": {
        "id": "package",
        "color": "terminal.ansiBlue"
      }
    },
    {
      "label": "Clean Backend",
      "type": "shell",
      "command": "dotnet",
      "args": ["clean", "${workspaceFolder}/backend/AcordParser.sln"],
      "problemMatcher": "$msCompile",
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      },
      "icon": {
        "id": "trash",
        "color": "terminal.ansiYellow"
      }
    },
    {
      "label": "Watch Backend",
      "type": "shell",
      "command": "dotnet",
      "args": ["watch", "run", "--project", "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj"],
      "problemMatcher": "$msCompile",
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "backend"
      },
      "icon": {
        "id": "eye",
        "color": "terminal.ansiBlue"
      }
    },

    // ==================== DATABASE MIGRATION TASKS ====================
    {
      "label": "üìä EF: Add Migration",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "ef",
        "migrations",
        "add",
        "${input:migrationName}",
        "--project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj",
        "--startup-project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj"
      ],
      "problemMatcher": "$msCompile",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "database",
        "color": "terminal.ansiGreen"
      }
    },
    {
      "label": "üìä EF: Update Database",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "ef",
        "database",
        "update",
        "--project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj",
        "--startup-project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj"
      ],
      "problemMatcher": "$msCompile",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "database",
        "color": "terminal.ansiGreen"
      }
    },
    {
      "label": "üìä EF: Remove Last Migration",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "ef",
        "migrations",
        "remove",
        "--project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj",
        "--startup-project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj",
        "--force"
      ],
      "problemMatcher": "$msCompile",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "trash",
        "color": "terminal.ansiRed"
      }
    },
    {
      "label": "üìä EF: List Migrations",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "ef",
        "migrations",
        "list",
        "--project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj",
        "--startup-project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "list-unordered",
        "color": "terminal.ansiCyan"
      }
    },
    {
      "label": "üìä EF: Drop Database",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "ef",
        "database",
        "drop",
        "--project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj",
        "--startup-project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj",
        "--force"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "trash",
        "color": "terminal.ansiRed"
      }
    },
    {
      "label": "üìä EF: Generate SQL Script",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "ef",
        "migrations",
        "script",
        "--project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj",
        "--startup-project",
        "${workspaceFolder}/backend/AcordParser.API/AcordParser.API.csproj",
        "--output",
        "${workspaceFolder}/migrations.sql"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "file-code",
        "color": "terminal.ansiCyan"
      }
    },

    // ==================== FRONTEND TASKS ====================
    {
      "label": "Run Frontend",
      "type": "shell",
      "command": "npm",
      "args": ["start"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": [],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "group": "frontend"
      },
      "icon": {
        "id": "browser",
        "color": "terminal.ansiRed"
      }
    },
    {
      "label": "Build Frontend",
      "type": "shell",
      "command": "npm",
      "args": ["run", "build"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": [],
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "icon": {
        "id": "tools",
        "color": "terminal.ansiRed"
      }
    },
    {
      "label": "Build Frontend (Production)",
      "type": "shell",
      "command": "npm",
      "args": ["run", "build", "--", "--configuration", "production"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": [],
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "icon": {
        "id": "rocket",
        "color": "terminal.ansiRed"
      }
    },
    {
      "label": "Install Frontend Dependencies",
      "type": "shell",
      "command": "npm",
      "args": ["install"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "icon": {
        "id": "package",
        "color": "terminal.ansiRed"
      }
    },
    {
      "label": "Lint Frontend",
      "type": "shell",
      "command": "npm",
      "args": ["run", "lint"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "icon": {
        "id": "checklist",
        "color": "terminal.ansiYellow"
      }
    },
    {
      "label": "Test Frontend",
      "type": "shell",
      "command": "npm",
      "args": ["test"],
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "beaker",
        "color": "terminal.ansiGreen"
      }
    },

    // ==================== DOCKER TASKS ====================
    {
      "label": "üê≥ Docker: Compose Up",
      "type": "shell",
      "command": "docker-compose",
      "args": ["up", "-d"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "vm-active",
        "color": "terminal.ansiBlue"
      }
    },
    {
      "label": "üê≥ Docker: Compose Down",
      "type": "shell",
      "command": "docker-compose",
      "args": ["down"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "vm-outline",
        "color": "terminal.ansiYellow"
      }
    },
    {
      "label": "üê≥ Docker: Compose Build",
      "type": "shell",
      "command": "docker-compose",
      "args": ["build"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "tools",
        "color": "terminal.ansiBlue"
      }
    },
    {
      "label": "üê≥ Docker: View Logs",
      "type": "shell",
      "command": "docker-compose",
      "args": ["logs", "-f"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "output",
        "color": "terminal.ansiCyan"
      }
    },
    {
      "label": "üê≥ Docker: Restart",
      "type": "shell",
      "command": "docker-compose",
      "args": ["restart"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "debug-restart",
        "color": "terminal.ansiGreen"
      }
    },

    // ==================== TEST TASKS ====================
    {
      "label": "Test Backend",
      "type": "shell",
      "command": "dotnet",
      "args": ["test", "${workspaceFolder}/backend/AcordParser.sln"],
      "problemMatcher": "$msCompile",
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "icon": {
        "id": "beaker",
        "color": "terminal.ansiGreen"
      }
    },
    {
      "label": "üß™ Test All",
      "dependsOn": ["Test Backend", "Test Frontend"],
      "problemMatcher": [],
      "group": "test"
    },

    // ==================== UTILITY TASKS ====================
    {
      "label": "üßπ Clean All",
      "dependsOn": ["Clean Backend"],
      "type": "shell",
      "command": "rm",
      "args": ["-rf", "${workspaceFolder}/frontend/dist", "${workspaceFolder}/frontend/node_modules"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "üìä Open Swagger",
      "type": "shell",
      "command": "open",
      "args": ["https://localhost:5001/swagger"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "never"
      },
      "icon": {
        "id": "browser",
        "color": "terminal.ansiCyan"
      }
    },
    {
      "label": "üåê Open Frontend",
      "type": "shell",
      "command": "open",
      "args": ["http://localhost:4200"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "never"
      },
      "icon": {
        "id": "browser",
        "color": "terminal.ansiMagenta"
      }
    }
  ],
  "inputs": [
    {
      "id": "migrationName",
      "type": "promptString",
      "description": "Enter migration name",
      "default": "NewMigration"
    }
  ]
}
